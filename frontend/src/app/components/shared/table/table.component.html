<div class="table-header d-flex justify-content-between" [ngClass]="{'table-header-sm':config.sectionsStyle == 'small'}">
  <div class="table-sections">
    <div class="table-title" *ngIf="config.title">{{config.title}}</div>
    <div class="tabs" *ngIf="config.sections.length>1">
      <app-tabs-header [titles]="sections" [selected]="currentSection" (selectedChange)="initSection($event)"></app-tabs-header>
    </div>
  </div>

  <div class="header-table-buttons-container d-flex justify-content-end align-items-stretch">
    <app-search *ngIf="!config.hideSearchButton" [style]="config.sectionsStyle" [data]="data" [dataType]="dataType" [searchProperties]="searchProperties" (filtered)="updateEntries($event)"></app-search>
    <button *ngIf="config.extraButton" class="btn btn-{{config.extraButton.color}} {{ config.sectionsStyle == 'small' ? 'btn-sm':'' }} button-table me-2" (click)="buttonClick.emit('calendar')"><i class="{{config.extraButton.icon}} h5"></i></button>
    <button class="btn btn-warning button-table {{ config.sectionsStyle == 'small' ? 'btn-sm':'' }}" 
      *ngIf="!config.hidePlusButton" (click)="buttonClick.emit('nuevo')"><i class="bi bi-plus h5"></i></button>    
  </div>  
</div>



<table class="table table-striped table-hover align-middle" [ngClass]="{'table-sm':config.sectionsStyle == 'small'}">
    <thead>
      <tr>
          <th *ngFor="let column of columns; let i = index" (click)="updateSort(column, i)" > 
            <div class="d-flex align-items-center flex-wrap {{ config.sectionsStyle == 'small' ? 'py-3':'py-2' }}">
              <span>{{column.title}}</span>
              <div *ngIf="column.sort" class="d-inline-flex flex-column justify-content-center align-items-top columns-icon-container">
                <i class="ms-2 bi bi-caret-up-fill i-sort" *ngIf="column.state!=-1 || currentSort.column!= i" ></i>
                <i class="ms-2 bi bi-caret-down-fill i-sort" *ngIf="column.state!=1 || currentSort.column!= i"></i>
              </div> 
            </div>           
          </th>         
      </tr>
    </thead>
    <tbody>
    <ng-container *ngFor="let entry of entries  |  paginate:currentPage:numOfEntries ">
          <ng-container
            [ngTemplateOutlet]="rowTemplate"
            [ngTemplateOutletContext]="{data: entry}"></ng-container>    
    </ng-container >
    
  
</tbody>

</table>
<ul class="pagination" *ngIf="pages && pages.length > 1" >
  <li class="page-item pointer" *ngFor="let page of pages" (click)="currentPage=page" [ngClass]="{active:page==currentPage}"><a class="page-link" >{{page}}</a></li>    
</ul>

<ng-content></ng-content>